(include <stdlib.h>)
(include <stdio.h>)
(include <strings.h>)

(deftype Count Int)
(deftype Foo
  (struct (: bar String)
          (: baz Count)))

(: main (-> int))
(defun (main)
  ;(def Foo* foo (Foo "hello" 13))
  (def Foo* foo (malloc (sizeof Foo)))
  (set foo->bar (malloc (sizeof "hello")))
  (strncpy foo->bar "hello" (sizeof "hello"))
  (set foo->baz 13)
  (printf "%s #%d\n" foo->bar foo->baz)
  void)
